<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template/template.xhtml">

<ui:define name="xxhrwjs">
 <script type="text/javascript">
 function handleUpdateRequest(xhr, status, args){
 	 if(args.validationFailed) {
		 argsValidationFailed(); 
     }
 }

 function handleCreateGrupoRequest(xhr, status, args){
	 if(args.validationFailed) {
 		 PF('MrqsGrupoHdrCreateDialogWV').jq.effect("shake", {times:5}, 100);
		 argsValidationFailed(); 
     }
 }
 
 </script>
</ui:define>

 <ui:define name="xxhrwcss">
 <style type="text/css">
        .cars-datalist .text-column p:last-child{
            color:#757575;
        }
        
        .cars-datalist .car-item {
            padding: 8px 14px;
        }
        
        .cars-datalist .car-item img, .cars-datalist .car-item .car-details {
            display: inline-block;
            vertical-align: middle;
            margin-right: 14px;
        }
        
        .cars-datalist .car-item button {
            float: right;
        }
        
        .cars-datalist ul {
            margin: 0;
            padding: 0;
        }
        
        .ui-car-display td:last-child {
            font-weight: 700;
        }
    
    @media (max-width:640px) {
        .cars-datalist .text-column {
            text-align: center;
        }
    }
    </style>
</ui:define>
                
<ui:define name="content">
<p:panel id="editarExamenReactivo"  header="EDITAR EXAMEN REACTIVO" style="margin-bottom:20px">
<div class="card">
<h:form id="updateForm">

<p:growl id="messages" showDetail="true" />

<div class="ui-g">
<!-- <div class="ui-g-4"> -->
<!-- </div> -->

<div class="ui-g-3">
<p:commandButton value="Agregar Nuevos Candidados"  immediate="true" action="#{updateMrqsExamForm.createNewCandidates()}" icon="fa fa-user-plus" style="background: #2D0D86;align:center;"/>
</div>
<div class="ui-g-4">
<p:commandButton value="Asignar Candidados" immediate="true"  action="#{updateMrqsExamForm.assignCandidates()}" icon="fa fa-recycle" style="background: #2D0D86;align:center;" />
</div>
</div>

<div class="ui-g"> 

     <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="estatusExamen" value="Estado Examen"/>
        </div>
         <div class="ui-g-12 ui-md-9">
		   <p:selectOneMenu id="estatusExamen" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.estatus}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
		  <f:selectItems value="#{selectsHelper.selectEstatusExamenItems}" />
		  </p:selectOneMenu>
          <p:message for="estatusExamen"/>
         </div>
       </div>
    
       <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="admonExamen" value="Examen" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="admonExamen" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.admonExamen}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
           <f:selectItem itemLabel="Seleccione..." itemValue="" />
           <f:selectItems value="#{createMrqsExamForm.selectExamenesHdr}" />
          </p:selectOneMenu>
          <p:message for="admonExamen"/>
         </div>
       </div>
       
       <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
          <p:outputLabel for="description" value="Descripción"/>
        </div>
         <div class="ui-g-12 ui-md-9">
           <p:inputTextarea  id="description" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.descripcion}"  rows="1" style="width:100%" maxlength="300"/>
           <p:message  for="description"/>
         </div>
       </div>
       
         <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="fechaElaboracion" value="Fecha Elaboracion" style="font-weight:bold;"/>
        </div>
         <div class="ui-g-12 ui-md-9">
	      <h:outputText id="fechaElaboracion" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.fechaElaboracion}"  style="font-weight:bold;">
	       <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
	      </h:outputText>
         </div>
       </div>
       
        <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="creadoPor" value="Elaboró" style="font-weight:bold;" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <h:outputText id="creadoPor" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.elaborador}" style="font-weight:bold;" />
         </div>
       </div>
       
        <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
          <p:outputLabel for="visibility" value="Visibilidad" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="visibility" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.visibilidad}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
		  <f:selectItem itemLabel="Seleccione ..." itemValue="" />
		  <f:selectItems value="#{selectsHelper.selectVisibilidadItems}" />
		  </p:selectOneMenu>
		  <p:message  for="visibility"/>
         </div>
       </div>
        <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
            <p:outputLabel for="fechaDisponibleDesdeInput" value="Disponible Desde" />
        </div>
         <div class="ui-g-12 ui-md-2">
            <p:calendar id="fechaDisponibleDesdeInput" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.fechaEfectivaDesde}" locale="es" pattern="dd/MM/yyyy HH:mm" mask="true" required="true"  requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
   		   <p:message for="fechaDisponibleDesdeInput"/>
         </div>
          <div class="ui-g-12 ui-md-2" style="text-align:center;">
            <p:outputLabel for="fechaDisponibleHastaInput" value="Disponible Hasta" />
        </div>
         <div class="ui-g-12 ui-md-2" style="align:center;" >
           <p:calendar id="fechaDisponibleHastaInput"  value="#{updateMrqsExamForm.mrqsExamenesForUpdate.fechaEfectivaHasta}" locale="es" pattern="dd/MM/yyyy HH:mm" mask="true" disabled="true" />
           <p:message for="fechaDisponibleHastaInput"/>
         </div>
       </div>
       
          <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel  for="timeLimit" value="Límite de Tiempo en minutos" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:spinner id="timeLimit" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.tiempoLimite}" />
		  <p:message  for="timeLimit"/>
         </div>
       </div>
       
            <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
          <p:outputLabel for="canSkipQuestions"  value="¿Puede Saltar Preguntas?" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:inputSwitch id="canSkipQuestions" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.saltarPreguntas}" onLabel="&#10003;" offLabel="&#215;"/>
		   <p:message  for="canSkipQuestions"/>
         </div>
       </div>
       
            <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
          <p:outputLabel for="canSkipCases"  value="¿Puede Saltar Casos?" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:inputSwitch id="canSkipCases" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.saltarCasos}" onLabel="&#10003;" offLabel="&#215;"/>
		  <p:message  for="canSkipCases"/>
         </div>
       </div>
       
            <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="showAnswers"  value="¿Mostrar Respuestas?" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:inputSwitch id="showAnswers" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.mostrarRespuestas}" onLabel="&#10003;" offLabel="&#215;"/>
		 <p:message  for="showAnswers"/>
         </div>
       </div>
       
            <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
          <p:outputLabel for="shufleGroupOrder"  value="¿Orden Aleatorio de Grupo?" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:inputSwitch id="shufleGroupOrder" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.aleatorioGrupo}" onLabel="&#10003;" offLabel="&#215;"/>
         <p:message  for="shufleGroupOrder"/>
         </div>
       </div>
       
         <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
          <p:outputLabel for="shufleQuestionOrder"  value="¿Orden Aleatorio de Preguntas?" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:inputSwitch id="shufleQuestionOrder" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.aleatorioPreguntas}" onLabel="&#10003;" offLabel="&#215;"/>
          <p:message  for="shufleQuestionOrder"/>
         </div>
       </div>
       
        <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="randomCasesSelection"  value="¿Selección de Casos Aleatorios?" />
        </div>
         <div class="ui-g-12 ui-md-9">
         <p:inputSwitch id="randomCasesSelection" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.seleccionCasosAleatorios}" onLabel="&#10003;" offLabel="&#215;"/>
          <p:message  for="randomCasesSelection"/> 
         </div>
       </div>
       
        <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
          <p:outputLabel for="finishingMessage" value="Mensaje Final"/>
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:inputTextarea  id="finishingMessage" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.mensajeFinalizacion}" rows="1" style="width:100%" maxlength="500"/>
          <p:message  for="finishingMessage"/>
         </div>
       </div>
      
</div>


<div class="ui-g">
 <div class="ui-g-12 ui-md-6 ui-lg-2">
  <p:commandButton value="Actualizar" icon="fa fa-save" update="updateForm" actionListener="#{updateMrqsExamForm.update()}" oncomplete="handleUpdateRequest(xhr, status, args)" style="background: #2D0D86;"/>
 </div>
 <div class="ui-g-12 ui-md-6 ui-lg-2">
  <p:commandButton value="Visualizar" icon="fa fa-eye" immediate="true" style="background: #2D0D86;" action="#{updateMrqsExamForm.toPreviewExamenReactivos()}" />
 </div>
 <div class="ui-g-12 ui-md-6 ui-lg-2">
  <p:commandButton value="Cerrar" icon="fa fa-backward" action="#{updateMrqsExamForm.cancel()}" immediate="true" style="background: #2D0D86;"/>
 </div>
</div>

 
</h:form>
</div>
</p:panel>
<h:form id="MateriasForm">

   <div class="ui-g card">
    
   <div class="ui-g-2">
      <p:commandButton  icon="fa fa-plus" value="Agregar Materia" immediate="true"  oncomplete="PF('MrqsGrupoHdrCreateDialogWV').show();" style="background: #2D0D86;" />
    </div>
     <div class="ui-g-12">
                    <p:dataGrid var="materia" value="#{updateMrqsExamForm.mrqsExamenesForUpdate.listMrqsGrupoHdr}" columns="3" layout="grid"
                                    rows="6" paginator="true" id="cars"
                                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" >
                            <f:facet name="header">
                               MATERIAS
                            </f:facet>
                            <p:panel header="#{materia.admonMateriaDesc}" style="text-align:center;font-weight:bold;">
                                <h:panelGrid columns="1" style="width:100%">
                                    <h:outputText value="Número de reactivos:#{materia.numeroReactivos}" style="font-weight:bold;" />
                                    <h:outputText value="Elaborador:#{materia.elaborador}" style="font-weight:bold;"/>
                                </h:panelGrid>
                              <p:commandButton value="Gestionar Reactivos" icon="fa fa-edit" action="#{updateMrqsExamForm.onMateriaSelect(materia)}" immediate="true" style="background: #2D0D86;" />
                            </p:panel>
                        </p:dataGrid>
                </div>
    
   </div>
</h:form>

 <p:dialog id="MrqsGrupoHdrCreateDialogId" widgetVar="MrqsGrupoHdrCreateDialogWV" modal="true" closable="true" closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Seleccionar Materia">
 <h:form id="MrqsGrupoHdrCreateForm">
 <f:passThroughAttribute name="autocomplete" value="off"/>
  <div class="ui-g">
   <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="materia" value="Materia" />
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:selectOneMenu id="materia" value="#{updateMrqsExamForm.mrqsGrupoHdrForInsert.admonMateria}" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
          <f:selectItem itemLabel="Seleccione..." itemValue="" />
          <f:selectItems value="#{updateMrqsExamForm.selectMateriasHdr}" />
         </p:selectOneMenu>
         <p:message for="materia"/>
         </div>
    </div>
    <div class="ui-g-12 ui-md-12" >
        <div class="ui-g-12 ui-md-3" style="text-align:right;">
         <p:outputLabel for="internalComments" value="Comentarios"/>
        </div>
         <div class="ui-g-12 ui-md-9">
          <p:inputTextarea  id="internalComments" value="#{updateMrqsExamForm.mrqsGrupoHdrForInsert.comentarios}"  rows="1" style="width:100%"/>
         <p:message  for="internalComments"/> 
         </div>
    </div>
  </div>
  
  <div class="ui-g">
   <div class="ui-g-4"></div>
   <div class="ui-g-4"><p:commandButton value="Guardar" icon="fa fa-plus" update="MrqsGrupoHdrCreateForm" action="#{updateMrqsExamForm.addMRQsGroup()}" oncomplete="handleCreateGrupoRequest(xhr, status, args)" style="width:100%;background: #2D0D86;"/></div>
   <div class="ui-g-4"><p:commandButton value="Cancelar" icon="fa fa-backward" onclick="PF('MrqsGrupoHdrCreateDialogWV').hide();" style="width:100%;background: #2D0D86;"/></div> 
   </div>
   </h:form>
 </p:dialog>

</ui:define>
</ui:composition>