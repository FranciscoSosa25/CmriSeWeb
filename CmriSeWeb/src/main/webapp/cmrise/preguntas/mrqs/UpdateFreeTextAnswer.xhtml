<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template/template.xhtml">
    <ui:define name="xxhrwjs">

    </ui:define>

    <ui:define name="xxhrwcss">
        <style type="text/css">
            .dcm_image {
                background-color: #f0f0f0;
                background-image: url('https://multimedia.elsevier.es/PublicationsMultimediaV1/item/multimedia/13113034:37v67n06-13113034fig01.jpg?idApp=UINPBA00005H');
                background-repeat: no-repeat;
                background-size: contain;
                background-position: center;
                border: solid 1px black;
                width: 600px;
                height: 600px;
            }

            .cmri_dcm_image {
                background-color: #f0f0f0;
                background-repeat: no-repeat;
                border: solid 1px black;
                width: 600px;
                height: 600px;
            }

            .myPanelStyle1.ui-panel .ui-panel-titlebar {
                color: #3c763d;
                background-color: #dff0d8;
                border-color: #d6e9c6;
            }

            .myPanelStyle2.ui-panel .ui-panel-titlebar {
                color: #8a6d3b;
                background-color: #fcf8e3;
                border-color: #faebcc;
            }

            .myPanelStyle3.ui-panel .ui-panel-titlebar {
                color: #a94442;
                background-color: #f2dede;
                border-color: #ebccd1;
            }

            .red-button.ui-button.ui-state-default {
                background-color: #d9534f;
                border-color: #d9534f;
                color: #fff;
                margin-top: 5px;
            }

            .red-button.ui-button.ui-state-default:enabled:hover,
            .red-button.ui-button.ui-state-default:focus {
                background-color: #d43f3a;
                border-color: #d9534f;
            }

            .canvas-container {
                position: relative;
            }

            .canvas-content {
                float: left;
                position: absolute;
                left: 0px;
                top: 0px;
                z-index: 98;
                background-color: transparent;
            }

        </style>
    </ui:define>

    <ui:define name="content">

        <h:form id="UpdateReactivosForm">
            <p:panel id="inforeactivo" header="INFORMACION GENERAL DEL REACTIVO" style="margin-bottom:20px">
                <f:passThroughAttribute name="autocomplete" value="off"/>
                <p:growl id="growl" showDetail="true" life="5000" widgetVar="growlWV"/>
                <div class="ui-g card">

                    <div class="ui-g-12 ui-md-12">
                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="statusMrqs" value="Estado"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:selectOneMenu id="statusMrqs"
                                             value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.estatus}"
                                             required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                <f:selectItem itemLabel="Seleccione un Valor.." itemValue=""/>
                                <f:selectItems value="#{selectsHelper.selectEstatusMrqsItems}"/>
                            </p:selectOneMenu>
                            <p:message for="statusMrqs"/>
                        </div>

                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="admonExamen" value="Examen"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:selectOneMenu id="admonExamen"
                                             value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonExamen}"
                                             required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                <p:ajax listener="#{updateFTAMrqForm.onAdmonExamenChange}" update="materia"/>
                                <f:selectItem itemLabel="Seleccione..." itemValue=""/>
                                <f:selectItems value="#{updateFTAMrqForm.selectExamenesHdr}"/>
                            </p:selectOneMenu>
                            <p:message for="admonExamen"/>
                        </div>

                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="materia" value="Materia"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:selectOneMenu id="materia"
                                             value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonMateria}"
                                             required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                <p:ajax listener="#{updateFTAMrqForm.onAdmonMateriaChange}" update="subMateria"/>
                                <f:selectItem itemLabel="Seleccione..." itemValue=""/>
                                <f:selectItems value="#{updateFTAMrqForm.selectMateriasHdr}"/>
                            </p:selectOneMenu>
                            <p:message for="materia"/>
                        </div>
                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="subMateria" value="Clasificacion"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:selectOneMenu id="subMateria"
                                             value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.admonSubmateria}"
                                             required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                <f:selectItem itemLabel="Seleccione..." itemValue=""/>
                                <f:selectItems value="#{updateFTAMrqForm.selectSubMaterias}"/>
                            </p:selectOneMenu>
                            <p:message for="subMateria"/>
                        </div>

                        <div class="ui-g-12 ui-md-12">
                            <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                <p:outputLabel for="fechaElaboracion" value="Fecha Elaboracion"/>
                            </div>
                            <div class="ui-g-12 ui-md-9">
                                <h:outputText id="fechaElaboracion"
                                              value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.fechaElaboracion}"
                                              style="font-weight:bold;">
                                    <f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
                                </h:outputText>
                            </div>
                        </div>

                        <div class="ui-g-12 ui-md-12">
                            <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                <p:outputLabel for="creadoPor" value="Elabora"/>
                            </div>
                            <div class="ui-g-12 ui-md-9">
                                <h:outputText id="creadoPor" value="#{userLogin.nombreCompletoUsuario}"
                                              style="font-weight:bold;"/>
                                <p:message for="creadoPor"/>
                            </div>
                        </div>


                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="questionType" value="Tipo de Pregunta"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:selectOneMenu id="questionType"
                                             value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.tipoPregunta}"
                                             required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                <f:selectItem itemLabel="Seleccione un tipo de Reactivo" itemValue=""/>
                                <f:selectItems value="#{selectsHelper.selectTipoPreguntaItems}"/>
                            </p:selectOneMenu>
                            <p:message for="questionType"/>
                        </div>
                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="diagnostico" value="Diagnostico"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:inputText id="diagnostico"
                                         value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.diagnostico}"
                                         maxlength="500" style="width:100%"/>
                        </div>
                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="bibliografia" value="Bibliografia"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:inputText id="bibliografia"
                                         value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.bibliografia}"
                                         maxlength="500" style="width:100%"/>
                        </div>
                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="notas" value="Notas"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:inputTextarea id="notas" value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.notas}"
                                             maxlength="255" style="width:50%"/>
                        </div>
                    </div>

                    <div class="ui-g-12 ui-md-12">
                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:commandButton value="Recurso Multimedia" icon="pi pi-plus"
                                             onclick="PF('presentationDialogWV').show();" style="background: #2d0d86"/>
                        </div>

                        <div class="ui-g-12 ui-md-9">
                            <ui:repeat var="imagenesGrupo" value="#{updateFTAMrqForm.listPresentMrqsImagenesGrp}"
                                       varStatus="status">
                                <div class="ui-g-12">
                                    <h3>#{imagenesGrupo.tituloSuperior}</h3>
                                </div>
                                <div class="ui-g-12">
                                    <ui:repeat var="imagenes" value="#{imagenesGrupo.listMrqsImagenes}"
                                               varStatus="status">
                                        <h:panelGroup layout="block" rendered="#{imagenes.image}">
                                            <h:graphicImage value="data:image/jpg;base64,#{imagenes.imagenBase64}"
                                                            style="max-width: 300px; max-height: 300px;"/>
                                        </h:panelGroup>
                                        <h:panelGroup layout="block" rendered="#{imagenes.video}">
                                            <video width="320" height="240" controls="controls">
                                                <source src="data:#{imagenes.contentType};base64,#{imagenes.imagenBase64}"/>
                                            </video>
                                        </h:panelGroup>
                                    </ui:repeat>
                                </div>
                            </ui:repeat>
                        </div>
                    </div>

                    <div class="ui-g-12 ui-md-12">
                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="questionText" value="Texto de la pregunta" maxlength="250"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:inputTextarea id="questionText"
                                             value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.textoPregunta}"
                                             style="width:100%" required="true"
                                             requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
                            <p:message for="questionText"/>
                        </div>

                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel value="Instrucciones"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:inputTextarea id="hintsText"
                                             value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.textoSugerencias}"
                                             style="width:30%" required="true"
                                             requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
                        </div>
                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="scoringMethod" value="Método de puntuación"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:selectOneMenu id="scoringMethod"
                                             value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.metodoPuntuacion}"
                                             required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                <f:selectItems value="#{updateFTAMrqForm.selectScoringMethodItems}"/>
                            </p:selectOneMenu>
                            <p:message for="scoringMethod"/>
                        </div>

                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                            <p:outputLabel for="scoringValue" value="Valor de puntuación"/>
                        </div>
                        <div class="ui-g-12 ui-md-9">
                            <p:selectOneMenu id="scoringValue"
                                             value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.valorPuntuacion}"
                                             required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                <f:selectItems value="#{selectsHelper.selectScoringValueItems}"/>
                            </p:selectOneMenu>
                            <p:message for="scoringValue"/>
                        </div>

                    </div>
                    <div class="ui-g-12 ui-md-12">
                        <h:panelGroup id="reactivosTextoLibrePanel" layout="block"
                                      rendered="#{updateFTAMrqForm.limitedFreeTextAnswer}">
                            <h2>Texto Libre</h2>


                            <div class="ui-g-12 ui-md-12">
                                <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                    <p:outputLabel for="correctAnswer" value="Respuesta Correcta"/>
                                </div>
                                <div class="ui-g-12 ui-md-9" style="text-align:right;">
                                    <p:inputText id="correctAnswer"
                                                 value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.respuestaCorrecta}"
                                                 placeholder="Respuesta Correcta" maxlength="600" style="width:100%"
                                                 required="true"
                                                 requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
                                    <p:message for="correctAnswer"/>
                                </div>
                                <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                    <p:outputLabel for="limiteCaracteres" value="Limite de caracteres"
                                                   rendered="false"/>
                                </div>
                                <div class="ui-g-12 ui-md-9">
                                    <p:selectOneMenu id="limiteCaracteres" rendered="false" required="false"
                                                     requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                        <f:selectItems/>
                                    </p:selectOneMenu>
                                    <p:message for="limiteCaracteres"/>
                                </div>
                            </div>
                            <!-- 		     </div> -->
                            <div class="ui-g card">
                                <div class="ui-g-12 ui-md-12">
                                    <ui:repeat style="text-align:right;" var="incWords"
                                               value="#{updateFTAMrqForm.listIncWmrqsListasPalabras}">

                                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                            <p:outputLabel for="respuestasAlternativas"
                                                           value="Respuestas Alternativas"/>
                                        </div>
                                        <div class="ui-g-12 ui-md-9" style="text-align:center;">
                                            <p:inputText id="respuestasAlternativas" value="#{incWords.palabra}"
                                                         placeholder="Agregar respuesta ..." style="width:100%"/>
                                        </div>

                                    </ui:repeat>
                                </div>
                                <div class="ui-g-12 ui-md-12">
                                    <ui:repeat style="text-align:right;" var="excWords"
                                               value="#{updateFTAMrqForm.listExcWmrqsListasPalabras}">

                                        <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                            <p:outputLabel for="respuestasIncorrectas" value="Respuestas Incorrectas"/>
                                        </div>
                                        <div class="ui-g-12 ui-md-9">
                                            <p:inputText id="respuestasIncorrectas" value="#{excWords.palabra}"
                                                         placeholder="Agregar respuesta ..." style="width:100%"/>
                                        </div>

                                    </ui:repeat>
                                </div>
                            </div>
                        </h:panelGroup>
                    </div>

                    <h:panelGroup id="reactivosOpcionMultiplePanel" layout="block"
                                  rendered="#{updateFTAMrqForm.multipleChoice}">
                        <h2>Opción Múltiple</h2>
                        <div class="ui-g-12 ui-md-4" style="text-align:right;">
                            <p:outputLabel for="singleMode" style="text-align:center;"
                                           value="¿Modo de Respuesta Única?"/>
                        </div>
                        <div class="ui-g-12 ui-md-8" style="text-align:left;">
                            <p:inputSwitch id="singleMode" style="text-align:center;" onLabel="Si" offLabel="No"
                                           value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.singleAnswerMode}"/>
                        </div>

                        <div class="ui-g-12 ui-md-4" style="text-align:right;">
                            <p:outputLabel for="suffleOrder" style="text-align:center;"
                                           value="¿Orden de Respuestas Aleatorio?"/>
                        </div>
                        <div class="ui-g-12 ui-md-8 " style="text-align:left;">
                            <p:inputSwitch id="suffleOrder" onLabel="Si" offLabel="No" style="text-align:center;"
                                           value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.suffleAnswerOrder}"/>
                        </div>

                        <div class="ui-g-4" style="text-align:left;">
                            <h1>
                                <p:outputLabel id="correcta" value="Correcta"/>
                            </h1>
                        </div>

                        <div class="ui-g-4" style="width:5%; text-align:center;">
                            <h2>
                                <p:outputLabel id="respuestas" value="Respuestas"/>
                            </h2>
                        </div>


                        <ui:repeat var="mrqsOpcionMultiple" value="#{updateFTAMrqForm.listMrqsOpcionMultiple}">
                            <div class="ui-g" style="width:90%;margin-bottom: 0.5px;">
                                <div class="ui-g-2 ui-g-nopad" style="width:5%; text-align:center;">

                                    <div class="ui-g-9">
                                        <p:inputSwitch onLabel="&#10003;" style="width:5%;BackGround:#2D0D86;"
                                                       offLabel="&#215;" value="#{mrqsOpcionMultiple.estatus}"/>
                                    </div>
                                </div>
                                <div class="ui-g-9">
                                    <p:inputText id="answerText" style="width:98%;"
                                                 value="#{mrqsOpcionMultiple.textoRespuesta}" required="true"
                                                 requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
                                    <p:message for="answerText"/>

                                </div>

                            </div> <!-- END div -->
                        </ui:repeat>

                    </h:panelGroup>

                    <div class="ui-g-12 ui-md-12">
                        <h:panelGroup id="reactivosImagenSenializadaPanel" layout="block"
                                      rendered="#{updateFTAMrqForm.indicateImage}">
                            <h2>Señalizacion de imagen</h2>
                            <div class="ui-g card">
                                <div class="ui-g-12 ui-md-12">
                                    <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                    </div>
                                    <div class="ui-g-12 ui-md-9" style="text-align:right;">
                                        <p:fileUpload id="fileImagenSen" listener="#{updateFTAMrqForm.handleFileUpload}"
                                                      update="reactivosImagenSenializadaPanel growl" label="Seleccionar"
                                                      uploadLabel="Subir" cancelLabel="Cancelar" mode="advanced"
                                                      auto="false" allowTypes="/(\.|\/)(jpe?g|png)$/"
                                                      oncomplete="oncompleteFileUpload();" fileLimit="1"/>
                                    </div>
                                    <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                        <img id="graphicImageImgSenID"
                                             src="data:#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.contentType};base64,#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.imagenBase64}"
                                             style="max-width: 100px;  max-height: 100px; visibility: #{empty updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.imagenBase64 ? 'hidden' : 'visible'}"/>
                                    </div>
                                    <div class="ui-g-12 ui-md-9">

                                        <p:inputText id="tipoPregunta"
                                                     value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.tipoPregunta}"
                                                     type="hidden"/>
                                        <p:inputText id="imgWidth"
                                                     value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.width}"
                                                     type="hidden"/>
                                        <p:inputText id="imgHeight"
                                                     value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.height}"
                                                     type="hidden"/>
                                        <p:inputText id="coordinatesMouseMove" type="hidden"/>
                                        <p:inputText id="coordinates"
                                                     value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.poligonos}"
                                                     placeholder="Coordenadas" maxlength="1000" style="width:100%"
                                                     required="true"
                                                     requiredMessage="No se han agregado polígonos"
                                                     type="hidden"/>
                                        <!--<canvas id="paintingCanvas" style="cursor:crosshair"
                                                onmousedown="point_it(event)">
                                            Elemento Canvase no soportado
                                        </canvas>-->

                                        <div id="canvas-container" class="canvas-container" style="visibility: #{empty updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.imagenBase64 ? 'hidden' : 'visible'}">
                                            <div id="canvas-content" class="canvas-content"></div>
                                            <img id="canvas-image"
                                                 src="data:#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.contentType};base64,#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.imagenBase64}"/>
                                        </div>

                                        <p:commandButton id="DeshacerBtn" value="Deshacer" type="button"
                                                         style="margin:10px 30px;" rendered="false"/>
                                        <p:commandButton value="Limpiar" type="button" onclick="resetPolygon()" rendered="#{not empty updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.imagenBase64}" style="margin:10px 30px;"/>

                                    </div>
                                </div>
                            </div>

                        </h:panelGroup>
                    </div>

                    <div class="ui-g-12 ui-md-12">


                        <h:panelGroup id="reactivosImagenAnotadaPanel" layout="block"
                                      rendered="#{updateFTAMrqForm.annotatedImage}">
                            <h2>Correlación de Imagen</h2>
                            <div class="ui-g card">
                                <div class="ui-g-12 ui-md-12">

                                    <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                    </div>
                                    <div class="ui-g-12 ui-md-9">
                                        <p:fileUpload id="fileImagenCor" listener="#{updateFTAMrqForm.handleFileUpload}"
                                                      update="reactivosImagenAnotadaPanel growl" label="Seleccionar"
                                                      uploadLabel="Subir" cancelLabel="Cancelar" mode="advanced"
                                                      auto="false" allowTypes="/(\.|\/)(jpe?g|png)$/"
                                                      oncomplete="oncompleteFileUploadImgCor();" fileLimit="1"/>
                                    </div>
                                    <div class="ui-g-12 ui-md-3" style="text-align:right;">
                                        <img id="graphicImageImgCorID"
                                             src="data:#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.contentType};base64,#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.imagenBase64}"
                                             style="max-width: 100px;  max-height: 100px; visibility: #{empty updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.imagenBase64 ? 'hidden' : 'visible'}"/>
                                    </div>

                                    <div class="ui-g-12 ui-md-9">
                                        <p:inputText id="tipoPreguntaImgCor"
                                                     value="#{updateFTAMrqForm.mrqsPreguntasHdrV1ForAction.tipoPregunta}"
                                                     type="hidden"/>
                                        <p:inputText id="imgWidthImgCor"
                                                     value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.width}"
                                                     type="hidden"/>
                                        <p:inputText id="imgHeightImgCor"
                                                     value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.height}"
                                                     type="hidden"/>
                                        <p:inputText id="coordinatesMouseMoveImgCor" type="hidden"/>
                                        <p:inputTextarea id="coordinatesImgCor"
                                                         value="#{updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.poligonos}"
                                                         placeholder="Coordenadas" style="width:100%;display:none;"/>
                                        <h:panelGroup id="imgCorDiv" layout="block"
                                                      rendered="#{not empty updateFTAMrqForm.mrqsPreguntasFtaV1ForAction.imagenBase64}"
                                                      style="width:400px; height:150px; background-color: #DAE4E4;">
                                        </h:panelGroup>
                                        <p:commandButton id="agregarNodoImgCor" value="Agregar Nodo" type="button"
                                                         style="margin:10px 30px;" rendered="false"/>
                                    </div>

                                    <div class="ui-g-12 ui-md-12">

                                        <div class="ui-g-12 ui-md-6">
                                            <h:panelGrid id="repeatIDPanel" style="width:100%;margin:10px;">
                                                <h:panelGroup layout="block">
                                                    <p:commandButton value="Agregar Respuestas"
                                                                     actionListener="#{updateFTAMrqForm.agregarRespReact()}"
                                                                     update="UpdateReactivosForm:repeatIDPanel"
                                                                     partialSubmit="true"
                                                                     process="UpdateReactivosForm:repeatIDPanel"
                                                                     oncomplete="handleAgregarRespuestaRequest(xhr, status, args)"
                                                                     style="margin:5px 50px 5px 0px;"/>
                                                    <br/>
                                                    <ui:repeat var="respReact"
                                                               value="#{updateFTAMrqForm.listRespReactCorImg}"
                                                               varStatus="status">
                                                        <p:inputText id="respuesta"
                                                                     value="#{updateFTAMrqForm.listRespReactCorImg[status.index].respuesta}"
                                                                     required="true"
                                                                     requiredMessage="#{msgs['globalForm.requiredMessage']}"
                                                                     style="width:95%;margin:10px;"/>
                                                        <p:message for="respuesta"/>
                                                    </ui:repeat>
                                                </h:panelGroup>
                                            </h:panelGrid>
                                        </div>

                                        <div class="ui-g-12 ui-md-6">
                                            <h:panelGrid id="repeatIDPanel2">
                                                <h:panelGroup layout="block">
                                                    <p:commandButton id="agregarRespCorrelReact"
                                                                     value="Agregar Respuestas Correlacionadas"
                                                                     actionListener="#{updateFTAMrqForm.agregarRespCorrelacionadas()}"
                                                                     update="UpdateReactivosForm:repeatIDPanel2 UpdateReactivosForm:repeatIDPanel"
                                                                     partialSubmit="true"
                                                                     process="UpdateReactivosForm:repeatIDPanel UpdateReactivosForm:repeatIDPanel2"
                                                                     oncomplete="handleAgregarRespuestaCorrRequest(xhr, status, args)"/>
                                                    <ui:repeat var="respReact"
                                                               value="#{updateFTAMrqForm.listRespCorrectReactCorImg}"
                                                               varStatus="status">
                                                        <div class="ui-g-12 ui-md-12">
                                                            <div class="ui-g-12 ui-md-2">
                                                                <h:outputText value="#{respReact.nodo}"/>
                                                            </div>
                                                            <div class="ui-g-12 ui-md-10">
                                                                <p:selectOneMenu id="respuestaCorrelacionada"
                                                                                 value="#{updateFTAMrqForm.listRespCorrectReactCorImg[status.index].numeroRespuesta}"
                                                                                 required="true"
                                                                                 requiredMessage="#{msgs['globalForm.requiredMessage']}">
                                                                    <f:selectItem itemLabel="Seleccione un Valor.."
                                                                                  itemValue=""/>
                                                                    <f:selectItems
                                                                            value="#{updateFTAMrqForm.selectRespReactCorImg}"/>
                                                                </p:selectOneMenu>
                                                                <p:message for="respuestaCorrelacionada"/>
                                                            </div>
                                                        </div>
                                                    </ui:repeat>
                                                </h:panelGroup>
                                            </h:panelGrid>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </h:panelGroup>
                    </div>

                    <div class="ui-g-12 ui-md-12">
                        <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center;  ">
                            <p:commandButton id="GuardarBtn" icon="fa fa-save" value="Guardar"
                                             actionListener="#{updateFTAMrqForm.update()}"
                                             update="UpdateReactivosForm growl" onstart="onstartUFTA()"
                                             oncomplete="handleUpdateRequest(xhr, status, args)"
                                             rendered="#{!updateFTAMrqForm.indicateImage}"
                                             style= "backGround:#2D0D86;" />

                            <p:commandButton value="Guardar" icon="fa fa-save" actionListener="#{updateFTAMrqForm.update()}" update="UpdateReactivosForm growl" onstart="savePolygon()" oncomplete="savePolygonComplete()" rendered="#{updateFTAMrqForm.indicateImage}"></p:commandButton>
                            <!--<p:commandButton type="button" id="prueba" icon="fa fa-save" value="PRUEBA" onclick="prueba();"/>-->
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
                            <p:commandButton icon="fa fa-eye" value="Previsualizar" update="UpdateReactivosForm growl"
                                             action="#{updateFTAMrqForm.saveAndPreview()}"
                                             style= "backGround:#2D0D86;" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
                            <p:commandButton icon="fa fa-backward" value="Cerrar" action="#{updateFTAMrqForm.cancel()}"
                                             immediate="true"
                                             style= "backGround:#2D0D86;" />
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
                            <p:commandButton value="Duplicar" oncomplete="PF('duplicateMrqDialogWV').show();"
                                             rendered="false"/>
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-2" style="text-align:center">
                            <p:commandButton value="Borrar" oncomplete="PF('deleteRolDialogWV').show();"
                                             rendered="false"/>
                        </div>
                    </div>

                </div>
            </p:panel>
        </h:form>

        <p:dialog id="presentationDialogId" widgetVar="presentationDialogWV" modal="true" closable="true"
                  closeOnEscape="true" draggable="false" resizable="false" width="1000"
                  header="Agregar Recurso Multimedia">
            <h:form id="presentationForm" enctype="multipart/form-data">
                <p:growl id="messages" showDetail="true"/>

                <div class="ui-g">
                    <div class="ui-g-12">
                        <p:outputLabel for="tituloSuperiorId" value="Título Superior"/>
                    </div>
                    <div class="ui-g-12">
                        <p:inputText id="tituloSuperiorId" style="width:60%"
                                     value="#{updateFTAMrqForm.presentMrqsImagenesGrp.tituloSuperior}"/>
                    </div>
                    <h5>Soporta imagenes JPG, PNG GIF y Videos MP4, AVI</h5>
                    <p:spacer width="5" height="5"/>
                    <h5>Se recomienda imagenes mayor a 500x500</h5>
                    <div class="ui-g-12">
                        <p:message for="tituloSuperiorId"/>
                    </div>


                    <div class="ui-g-12">
                        <p:fileUpload id="presentatioFilesID" value="#{updateFTAMrqForm.presentationFiles}"
                                      label="Seleccionar" mode="simple" multiple="true"
                                      allowTypes="/(\.|\/)(gif|jpg|jpeg|gif|png|PNG|GIF|JPG|JPEG|mp4|avi|flv)$/"
                                      update="presentationForm" required="true"
                                      requiredMessage="#{msgs['globalForm.requiredMessage']}"/>
                    </div>
                    <div class="ui-g-12">
                        <p:message for="presentatioFilesID"/>
                    </div>

                    <div class="ui-g-6">
                        <p:commandButton value="Procesar" action="#{updateFTAMrqForm.uploadMultiple}"
                                         update="presentationForm" ajax="false"/>
                    </div>
                    <div class="ui-g-6">
                        <p:commandButton value="Cancelar" onclick="PF('presentationDialogWV').hide();"/>
                    </div>
                </div>

            </h:form>
        </p:dialog>


        <h:form id="DuplicateForm">
            <p:dialog id="duplicateMrqDialogId" widgetVar="duplicateMrqDialogWV" modal="true" closable="true"
                      closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Duplicar Registro">
                <h2>¿Seguro que quieres duplicar esta pregunta?</h2>
                <div class="ui-g">
                    <div class="ui-g-12 ui-lg-2">
                        <p:commandButton id="DeleteBtn" value="Aceptar" action="#{updateFTAMrqForm.duplicate()}"
                                         style="BackGround:#2D0D86;"/>
                    </div>
                    <div class="ui-g-12 ui-lg-2">
                        <p:commandButton id="CancelarBtn" value="Cancelar" onclick="PF('duplicateMrqDialogWV').hide();"
                                         style="BackGround:#2D0D86;"/>
                    </div>
                </div>
            </p:dialog>
        </h:form>


        <h:form id="DeleteForm">
            <p:dialog id="deleteRolDialogId" widgetVar="deleteRolDialogWV" modal="true" closable="true"
                      closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Borrar Registro">
                <h2>#{msgs['globalForm.deleteMessage']}</h2>
                <div class="ui-g">
                    <div class="ui-g-12 ui-lg-2">
                        <p:commandButton id="DeleteFtaBtn" value="Aceptar" action="#{updateFTAMrqForm.delete()}"
                                         style="BackGround:#2D0D86;"/>
                    </div>
                    <div class="ui-g-12 ui-lg-2">
                        <p:commandButton id="CancelarFtaBtn" value="Cancelar" onclick="PF('deleteRolDialogWV').hide();"
                                         style="BackGround:#2D0D86;"/>
                    </div>
                </div>
            </p:dialog>
            <p:dialog id="deleteListasPalabrasDialogId" widgetVar="deleteListasPalabrasWV" modal="true" closable="true"
                      closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Borrar Registro">
                <h2>#{msgs['globalForm.deleteMessage']}</h2>
                <div class="ui-g">
                    <div class="ui-g-12 ui-lg-2">
                        <p:commandButton id="DeleteListPalabBtn" value="Aceptar"
                                         actionListener="#{updateFTAMrqForm.deleteWord()}" update="UpdateReactivosForm"
                                         oncomplete="PF('deleteListasPalabrasWV').hide();" style="BackGround:#2D0D86;"/>
                    </div>
                    <div class="ui-g-12 ui-lg-2">
                        <p:commandButton id="CancelarListPalabBtn" value="Cancelar"
                                         onclick="PF('deleteListasPalabrasWV').hide();"/>
                    </div>
                </div>
            </p:dialog>
            <p:dialog id="deleteOpcionMultipleDialogId" widgetVar="deleteOpcionMultipleWV" modal="true" closable="true"
                      closeOnEscape="true" draggable="false" resizable="false" width="1000" header="Borrar Registro">
                <h2>#{msgs['globalForm.deleteMessage']}</h2>
                <div class="ui-g">
                    <div class="ui-g-12 ui-lg-2">
                        <p:commandButton id="DeleteOpcMultBtn" value="Aceptar"
                                         actionListener="#{updateFTAMrqForm.deleteOpcionMultiple()}"
                                         update="UpdateReactivosForm" oncomplete="PF('deleteOpcionMultipleWV').hide();"
                                         style="BackGround:#2D0D86;"/>
                    </div>
                    <div class="ui-g-12 ui-lg-2">
                        <p:commandButton id="CancelarOpcMultBtn" value="Cancelar"
                                         onclick="PF('deleteOpcionMultipleWV').hide();" style="BackGround:#2D0D86;"/>
                    </div>
                </div>
            </p:dialog>

        </h:form>

    </ui:define>

    <ui:define name="xxhrwjs">
        <h:outputScript name="gojs/go.js" library="js"/>
        <h:outputScript name="gojs/PolygonDrawingTool.js" library="js"/>
        <h:outputScript name="gojs/GeometryReshapingTool.js" library="js"/>
        <h:outputScript name="cmrise/reactivos/UpdateReactivosImgSen.js" library="js"/>
        <h:outputScript name="cmrise/reactivos/UpdateReactivosImgCor.js" library="js"/>
    </ui:define>

</ui:composition>