<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template/templateCandidates.xhtml">
                               
 <ui:define name="xxhrwjs">
<script type="text/javascript">
function handleUpdateRequest(xhr, status, args){
	 if(args.validationFailed|| !args.updateIn) {
		 argsValidationFailed(); 
      }
}
</script>
</ui:define>


 <ui:define name="xxhrwcss">
            <style type="text/css">
     .xXwrongAnswer{
        background-color: #ffe6e6;
	    text-align: left;
	    border: 3px solid red;
	    color:red;
	    font-size:30px;
     }
     .xXcorrectAnswer{
        background-color: #e6ffe6;
	    text-align: left;
	    border: 3px solid green;
	    color:green;
	    font-size:30px;
     }
     .xXinstructions{
       background-color: #fff;
       color:black;
       font-size:20px;
     }
    
     .xXscores{
       margin-top:10px; 
       margin-bottom:10px; 
       background: #f9f9f9;;
       border: 1px solid #ccc;
       font-weight: bold;
     }
    
    
    .green-button.ui-button.ui-state-default {
        background-color: #5cb85c;
        border-color: #5cb85c;
        color: #fff;
    }
 
    .green-button.ui-button.ui-state-default:enabled:hover, 
    .green-button.ui-button.ui-state-default:focus {
        background-color: #4cae4c;
        border-color: #5cb85c;
    }
 
    .red-button.ui-button.ui-state-default {
        background-color: #d9534f;
        border-color: #d9534f;
        color: #fff;
    }
 
    .red-button.ui-button.ui-state-default:enabled:hover, 
    .red-button.ui-button.ui-state-default:focus {
        background-color: #d43f3a;
        border-color: #d9534f;
    }
    
</style>                    

</ui:define>
<ui:define name="content">
<h1>Previsualización Caso Clínico</h1>
<h:form id="coreCaseForm">
<div class="ui-g">
<!--  <div class="ui-g-12 ui-md-3"> -->
<!--    <div class="ui-g-12 ui-md-12" style="background-color: #4a4058;color: #fff;"> -->
<!--      <div class="ui-g-12" > -->
<!--      <h3>Pregunta</h3> -->
<!--     </div> -->
<!--    </div> -->
<!--    <div class="ui-g-12 ui-md-12" style="background-color: rgba(0, 0, 0, 0.3);color: #fff;"> -->
<!--    </div>   -->
<!--    <div class="ui-g-12 ui-md-12" style="background-color: rgba(0, 0, 0, 0.3);color: #fff;"> -->
<!--     <h1>Tabla de Contenidos</h1> -->
<!--    </div> -->
<!--    <div class="ui-g-12 ui-md-12" style="background-color: #343633;color: #fff;"> -->
<!--     <h3>#{coreCasePreviewForm.ccHdrV1.nombre}</h3> -->
<!--      <ui:repeat var="preguntas" value="#{coreCasePreviewForm.listCcPreguntasHdrV1}"> -->
<!--      <h3 style="margin-left: 30px">#{preguntas.titulo}</h3> -->
<!--     </ui:repeat> -->
<!--    </div> -->
<!--  </div> -->
 
  <div class="ui-g-12 ui-md-9 ui-g-nopad">
     <div class="ui-g-12 ui-md-12">
        <div class="ui-g-12 ui-md-12">
           <div class="ui-g-12 ui-md-7">
<!--             <h3>#{coreCasePreviewForm.ccHdrV1.nombre} > #{coreCasePreviewForm.ccPreguntasHdrV1.titulo}</h3> -->
           </div>
         
           <!--   
           <ui:repeat var="imagenesGrupo" value="#{coreCasePreviewForm.listPresentCcImagenesGrp}" varStatus="status">
		      <div class="ui-g-12 ui-md-12">
		       <h3>#{imagenesGrupo.tituloSuperior}</h3>
		      </div>
		      <div class="ui-g-12 ui-md-12">
		       <ui:repeat var="imagenes" value="#{imagenesGrupo.listCcImagenes}" varStatus="status">
		         <h:graphicImage value="data:image/jpg;base64,#{imagenes.jpgBase64}" style="max-width: 300px; max-height: 300px;" />
		       </ui:repeat>
		      </div>
		    </ui:repeat>
		    -->
		    
               <ui:repeat var="imagenesGrupo" value="#{coreCasePreviewForm.listPresentCcImagenesGrp}" varStatus="status">
		          <div class="ui-g-12 ui-md-12">
		         <p:galleria value="#{imagenesGrupo.listCcImagenes}" var="image" panelWidth="400" panelHeight="400" showFilmstrip="true" transitionInterval="1000" >
			      <p:graphicImage value="#{image.jpgStreamedContent}" stream="false" style="max-width: 100%; max-height: 100%;" alt="#{image.nombreImagen}" title="#{image.nombreImagen}" />
			      </p:galleria>
			      </div>
			   </ui:repeat>
          
              <h1> #{coreCasePreviewForm.ccPreguntasFtaV1.tituloPregunta}?</h1>                 		             
		        <h3>(#{coreCasePreviewForm.ccPreguntasFtaV1.textoSugerencias})</h3>
		     
       
            <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.limitedFreeTextAnswer and coreCasePreviewForm.questionView}">
             <div class="ui-g-12 ui-md-12">
			   <p:outputLabel for="answer" value="Su Respuesta:" style="font-size: 24px;"/>
			   <p:inputTextarea id="answer" rows="10" cols="50" style="width:98%;font-size: 24px;" >
			    </p:inputTextarea>
			 </div>
			</h:panelGroup>
			
			  <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.multipleChoice and coreCasePreviewForm.questionView and coreCasePreviewForm.singleAnswerMode}">
		      <div class="ui-g-12 ui-md-12" >
		         <p:selectOneRadio id="answerRadioSingle" value="#{coreCasePreviewForm.respuestaPreguntaCandidato}" layout="grid" columns="1" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}" >
				 <f:selectItems value="#{coreCasePreviewForm.listCcOpcionMultiple}" var="l" itemLabel="#{l.textoRespuesta}" itemValue="#{l.numero}"/>
				 </p:selectOneRadio>
				   <p:message for="answerRadioSingle"  />
		      </div>
             </h:panelGroup>  
             
              <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.multipleChoice and coreCasePreviewForm.questionView and not coreCasePreviewForm.singleAnswerMode}">
		      <div class="ui-g-12 ui-md-12" >
		         <p:selectManyCheckbox id="answerRadioMultiple" value="#{coreCasePreviewForm.respuestasPreguntaCandidato}" layout="grid" columns="1" required="true" requiredMessage="#{msgs['globalForm.requiredMessage']}" >
				 <f:selectItems value="#{coreCasePreviewForm.listCcOpcionMultiple}" var="l" itemLabel="#{l.textoRespuesta}" itemValue="#{l.numero}"/>
				 </p:selectManyCheckbox>
				 <p:message for="answerRadioMultiple"  />
		      </div>
             </h:panelGroup>  
			  <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.answerView and coreCasePreviewForm.wrongAnswer and coreCasePreviewForm.limitedFreeTextAnswer}" >
               <div class="ui-g-12 ui-md-12 xXwrongAnswer" >
                 Su Respuesta es INCORRECTA
               </div>
             </h:panelGroup>
		    
		    <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.answerView and coreCasePreviewForm.correctAnswer and coreCasePreviewForm.limitedFreeTextAnswer}">
               <div class="ui-g-12 ui-md-12 xXcorrectAnswer" >
                 Su Respuesta es CORRECTA
               </div>
             </h:panelGroup>
             
              <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.answerView}">
              <div class="ui-g-12 ui-md-12 xXscores" >
                 Puntuacíon:<h:outputText value="#{coreCasePreviewForm.puntuacion}" />
              </div>
              </h:panelGroup>
		    
		     <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.answerView and coreCasePreviewForm.wrongAnswer and coreCasePreviewForm.multipleChoice}" >
               <div class="ui-g-12 ui-md-12 xXwrongAnswer" >
                  <h:outputText value="#{coreCasePreviewForm.correctAnswers}" style="color:green;"/>
                  <h:outputText value="&#160;y&#160;" style="color:black;"/>
                  <h:outputText value="#{coreCasePreviewForm.wrongAnswers}" />
               </div>
             </h:panelGroup>
             
		     <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.answerView and coreCasePreviewForm.correctAnswer and coreCasePreviewForm.multipleChoice}">
               <div class="ui-g-12 ui-md-12 xXcorrectAnswer" >
                  <h:outputText value="#{coreCasePreviewForm.correctAnswers}" />
                  <h:outputText value="&#160;y&#160;" style="color:black;"/>
                  <h:outputText value="#{coreCasePreviewForm.wrongAnswers}" style="color:red;"/>
               </div>
             </h:panelGroup>
		    
		     <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.answerView and coreCasePreviewForm.limitedFreeTextAnswer}">
               <div class="ui-g-12 ui-md-12 xXinstructions">
                Usted contesto:
                </div>
               <div class="ui-g-12 ui-md-12 xXinstructions" style="color:green;font-weight:bold;" >
                <p:outputLabel value="#{coreCasePreviewForm.respuestaPreguntaCandidato}"/>
               </div>
             </h:panelGroup>
		     
		     <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.answerView and coreCasePreviewForm.limitedFreeTextAnswer}">
               <div class="ui-g-12 ui-md-12 xXinstructions">
                La respuesta correcta es:
               </div>
                 <div class="ui-g-12 ui-md-12 xXinstructions" style="color:black;font-weight:bold;">
                  <p:outputLabel value="#{coreCasePreviewForm.respuestaPreguntaSistema}"/>
               </div>
             </h:panelGroup>
            
             <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.multipleChoice and coreCasePreviewForm.answerView and coreCasePreviewForm.singleAnswerMode}">
                <div class="ui-g-12 ui-md-12 xXinstructions">
                 La respuestas son:
               </div>
		        <div class="ui-g-12 ui-md-12 xXinstructions">
		            <ui:repeat var="ccOpcionMultiple" value="#{coreCasePreviewForm.listCcOpcionMultiple}">
		             <div class="ui-g-12 ui-md-12">
		             <h:panelGroup layout="block" rendered="#{ccOpcionMultiple.estatus}">
		               <div class="ui-g-12 ui-md-1">
		                <h:panelGroup layout="block" rendered="#{ccOpcionMultiple.estatusCandidato}">
		                <i class="pi pi-check" ></i>
		                </h:panelGroup>
		               </div>
		             <div class="ui-g-12 ui-md-11">
					      <div class="ui-inputgroup">
					          <p:commandButton icon="pi pi-check" styleClass="green-button"/> 
					          <h:outputText value="#{ccOpcionMultiple.textoRespuesta}" />
					      </div>
					  </div>
					</h:panelGroup>
					<h:panelGroup layout="block" rendered="#{not ccOpcionMultiple.estatus}">
					    <div class="ui-g-12 ui-md-1">
		                <h:panelGroup layout="block" rendered="#{ccOpcionMultiple.estatusCandidato}">
		                <i class="pi pi-check" ></i>
		                </h:panelGroup>
		               </div>
					  <div class="ui-g-12 ui-md-11">
					      <div class="ui-inputgroup">
					           <p:commandButton icon="pi pi-times" styleClass="red-button"/>
						       <h:outputText value="#{ccOpcionMultiple.textoRespuesta}" />
					      </div>
					  </div>
					</h:panelGroup>
		             </div>
		            </ui:repeat>
		      </div>
             </h:panelGroup>  
             <h:panelGroup layout="block" rendered="#{coreCasePreviewForm.multipleChoice and coreCasePreviewForm.answerView and not coreCasePreviewForm.singleAnswerMode}">
		      <div class="ui-g-12 ui-md-12 xXinstructions">
		            <ui:repeat var="coreCaseOpcionMultiple" value="#{coreCasePreviewForm.listCcOpcionMultiple}">
		             <div class="ui-g-12 ui-md-12">
		             <h:panelGroup layout="block" rendered="#{coreCaseOpcionMultiple.estatus}">
		                <div class="ui-g-12 ui-md-1">
		                <h:panelGroup layout="block" rendered="#{coreCaseOpcionMultiple.estatusCandidato}">
		                <i class="pi pi-check" ></i>
		                </h:panelGroup>
		               </div>
					  <div class="ui-g-12 ui-md-11">
					      <div class="ui-inputgroup">
					          <p:commandButton icon="pi pi-check" styleClass="green-button"/> 
					          <h:outputText value="#{coreCaseOpcionMultiple.textoRespuesta}" />
					      </div>
					  </div>
					</h:panelGroup>
					<h:panelGroup layout="block" rendered="#{not coreCaseOpcionMultiple.estatus}">
					    <div class="ui-g-12 ui-md-1">
		                <h:panelGroup layout="block" rendered="#{coreCaseOpcionMultiple.estatusCandidato}">
		                <i class="pi pi-check" ></i>
		                </h:panelGroup>
		               </div>
					  <div class="ui-g-12 ui-md-11">
					      <div class="ui-inputgroup">
					           <p:commandButton icon="pi pi-times" styleClass="red-button"/>
						       <h:outputText value="#{coreCaseOpcionMultiple.textoRespuesta}" />
					      </div>
					  </div>
					</h:panelGroup>
		             </div>
		            </ui:repeat>
		      </div>

             </h:panelGroup>
        </div>
     </div>
   </div>
     <div class="ui-g-12 ui-md-5">
             <p:commandButton value="Guardar y Procesar" update="coreCaseForm" actionListener="#{coreCasePreviewForm.saveProceed()}" rendered="#{coreCasePreviewForm.questionView}" style="margin-left:15px" oncomplete="handleUpdateRequest(xhr, status, args)" />
             <p:commandButton value="Saltar" style="margin-left:15px" />
             <p:commandButton value="Regresar" style="margin-left:15px" immediate="true" action="#{coreCasePreviewForm.returnUpdateFta()}"/>
           </div>
</div>
   
         
</h:form>
</ui:define>
</ui:composition>
